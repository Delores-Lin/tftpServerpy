define("article:widget/exp-share/exp-share.js",function(e,o,t){var n=e("common-jquery:widget/lib/tangram/base/base.js"),i=e("common-jquery:widget/lib/tangram/fx/scrollTo/scrollTo.js"),r=e("common-jquery:widget/lib/tangram/fx/collapse/collapse.js"),a=e("common-jquery:widget/lib/tangram/fx/expand/expand.js"),s=e("common-jquery:widget/js/util/event/event.js"),l=e("common-jquery:widget/js/ui/favor/favor.es"),c=e("common-jquery:widget/lib/jquery/jquery.js"),d=e("common-jquery:widget/js/logic/log/log.js"),u=e("article:widget/ui/qrcode/qrcode.js"),f=function(){var e=n.q("exp-share-wgt")[0],o=null;n.on("w-share","mouseenter",function(t){var i=t.relatedTarget||t.toElement;n.dom.contains(e,i)||e==i||(o=setTimeout(function(){a(e,{duration:200,onbeforestart:function(){}})},150))}),n.on("w-share","mouseleave",function(t){clearTimeout(o),o=null;var i=t.relatedTarget||t.toElement;n.dom.hasClass(i,"exp-share-wgt")||n.dom.contains(e,i)||r(e,{duration:100,onbeforestart:function(){}})}),n.on(e,"mouseleave",function(o){var t=o.relatedTarget||o.toElement;n.dom.hasClass(t,"w-share")||n.dom.contains(e,t)||r(e,{duration:100,onbeforestart:function(){}})})},m=function(){var e=null,o=n.g("w-gotop");n.on("w-gotop","click",function(o){parseInt(document.documentElement.scrollTop)>0&&(e=document.documentElement),parseInt(document.body.scrollTop)>0&&(e=document.body),e&&i(e,[0,0],{duration:250}),n.event.stop(o)});var t=-1,r=function(){var e=n.page.getScrollTop(),i=n.page.getViewHeight();e>i?(o.style.visibility="visible",t=1):(o.style.visibility="hidden",t=0)};n.on(window,"scroll",r),r()},w=function(){{var e=n.g("bds-weixin-btn"),o=n.g("weixin-wrap-wgt"),t=n.g("qrcode-wrp"),i=window.location.href;new u(t,{text:i,width:104,height:104,colorDark:"#000000",colorLight:"#ffffff",correctLevel:u.CorrectLevel.H})}n.on(e,"mouseenter",function(){o.style.visibility="visible",d.send(location.href,3002,{menu:"6",evtType:"hover"})}),n.on(e,"mouseleave",function(){o.style.visibility="hidden"})},g=function(){var e=n.page.getViewWidth(),o=1070,t=Math.max((e-o)/2,72)-60,i=n.g("wgt-exp-share"),r=!n.browser.ie||n.browser.ie&&n.browser.ie>7?44:49;n.dom.fixable(i,{vertival:"bottom",horizontal:"right",offset:{x:t,y:r},autofix:!0}),i.style.display="block"},v=function(){n.on("w-favor","click",function(){c(this).hasClass("has-faved")||l.favor(F.context("eid"),function(){var e=n.url.getQueryValue(location.href,"tid");e&&(window.__done=!0),s.fire("addFavor")},{bdStoken:F.context("BdStoken"),bdstt:F.context("bdstt")})})};t.exports.init=function(){s.on("addFavor",function(){var e=c("#w-favor");e.hasClass("has-faved")||(e.addClass("has-faved"),c("#w-favor .w-txt").html("已收藏"))}),(!n.browser.ie||n.browser.ie>7)&&n.on(window,"resize",function(){g()}),g(),f(),v(),m(),w()}});