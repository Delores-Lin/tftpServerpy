define("article:widget/relate-explist/relate-explist.js",function(e,n,i){var t=e("common-jquery:widget/lib/jquery/jquery.js"),o=e("common-jquery:widget/js/logic/log/log.js"),a={currentIndex:0,showNum:5,init:function(e){function n(){var e=window.scrollY,i=window.innerHeight,a=t(".relate-exp-zhidao-container").offset().top;e+i>a&&(t(window).off("scroll",n),o.send(location.href,2019,{page:"index",pos:"relate-exp-zhidao",action:"show"}))}var i=this;this.relExpShowLog(),t("#relate-exp-zhidao-container").length&&(t(window).on("scroll",n),t.each(t("#relate-exp-zhidao-container a"),function(e,n){t(n).on("click",function(){o.send(location.href,2019,{page:"article",pos:"relate-exp-zhidao",action:"click"})})}));var a=t("#change-relate-exp");0!==a.length&&(i.list=e,a.on("click",function(n){n.preventDefault(),0!==i.currentIndex?i.currentIndex=0:i.currentIndex+=i.showNum;var a=[];t.each(e,function(e,n){if(e>=i.currentIndex&&e<i.currentIndex+i.showNum){var t="";n.firstimg&&(t='<em class="has-img"></em>');var o=['<li class="related-exp-link"><a href="/article/',n.eidEnc,'.html" target="_blank" data-id="',n.eidEnc,'">',n.title,"</a>",t,'<span class="exp-date">',n.createTime,"</span></li>"].join("");a.push(o)}}),t("#relate-explist-container").html(a.join("")),t.each(t("#relate-explist-container a"),function(e,n){t(n).off("click"),t(n).on("click",function(){o.send(location.href,2019,{module:"article",page:"index",pos:"relate_title",action:"click",videoGroup:F.context("videoGroup"),index:e,intention:"autoPlay-log",recId:t(n).data("id"),encEid:F.context("eid")})})}),i.relExpShowLog()}))},relExpShowLog:function(){function e(){var e=window.scrollY,c=window.innerHeight;t.each(n,function(n,t){e+c>t&&!i[n]&&(i[n]=!0,o.send(location.href,2019,{module:"article",page:"index",pos:"pc-relate-exp-item",action:"show",index:n,encEid:F.context("eid"),recId:a.eq(n).data("id")}))})}var n=[],i=[],a=t("#relate-explist-container a");a.each(function(e,o){n.push(t(o).offset().top),i.push(!1)}),t(window).off("scroll.rel").on("scroll.rel",e)}};i.exports=a});